[{"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/index.js":"1","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/App.js":"2","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/context/Context.js":"3","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/context/Reducer.js":"4","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/settings/Settings.jsx":"5","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/single/Single.jsx":"6","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/register/Register.jsx":"7","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/write/Write.jsx":"8","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/login/Login.jsx":"9","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/home/Home.jsx":"10","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/topbar/TopBar.jsx":"11","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/sidebar/Sidebar.jsx":"12","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/singlePost/SinglePost.jsx":"13","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/header/Header.jsx":"14","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/posts/Posts.jsx":"15","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/post/Post.jsx":"16","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/history/history.js":"17"},{"size":296,"mtime":1625790397793,"results":"18","hashOfConfig":"19"},{"size":1412,"mtime":1633664658987,"results":"20","hashOfConfig":"19"},{"size":761,"mtime":1626216709707,"results":"21","hashOfConfig":"19"},{"size":1235,"mtime":1625989895391,"results":"22","hashOfConfig":"19"},{"size":3611,"mtime":1633667995407,"results":"23","hashOfConfig":"19"},{"size":307,"mtime":1625377877153,"results":"24","hashOfConfig":"19"},{"size":1804,"mtime":1625726775232,"results":"25","hashOfConfig":"19"},{"size":2065,"mtime":1633596514965,"results":"26","hashOfConfig":"19"},{"size":1743,"mtime":1626082253104,"results":"27","hashOfConfig":"19"},{"size":794,"mtime":1626159959391,"results":"28","hashOfConfig":"19"},{"size":2564,"mtime":1633667940551,"results":"29","hashOfConfig":"19"},{"size":1872,"mtime":1626082963258,"results":"30","hashOfConfig":"19"},{"size":3058,"mtime":1633667957819,"results":"31","hashOfConfig":"19"},{"size":483,"mtime":1625281036293,"results":"32","hashOfConfig":"19"},{"size":227,"mtime":1625710986923,"results":"33","hashOfConfig":"19"},{"size":964,"mtime":1633596626379,"results":"34","hashOfConfig":"19"},{"size":127,"mtime":1626217437607,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"6hwcjs",{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"38"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"38"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/index.js",[],["77","78"],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/App.js",["79"],"import Home from \"./pages/home/Home\";\nimport TopBar from \"./components/topbar/TopBar\";\nimport Login from \"./pages/login/Login\";\nimport Register from \"./pages/register/Register\";\nimport Settings from \"./pages/settings/Settings\";\nimport Single from \"./pages/single/Single\";\nimport Write from \"./pages/write/Write\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { Context } from \"./context/Context\";\nimport { useContext } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n\n  const {user} = useContext(Context);\n  axios.defaults.baseURL = 'https://hello-me-blog.herokuapp.com/api/';\n  axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\n  \n  return (\n    <Router>\n    <TopBar/>\n    {/* <Home/> */}\n    {/* <Single/> */}\n    {/* <Write></Write> */}\n    {/* <Settings/> */}\n    {/* <Login/> */}\n    {/* <Register/> */}\n    <Switch>\n      <Route exact path='/'>\n        <Home/>\n      </Route>\n      <Route path='/register'>\n        {!user ? <Register/> : <Home/>}\n      </Route>\n      <Route path='/login'>\n        {!user? <Login/> : <Home/>}\n      </Route>\n      <Route path='/write'>\n        {user? <Write/> : <Home/>}\n      </Route>\n      <Route path='/settings'>\n        {user? <Settings/> : <Home/>}\n      </Route>\n      <Route path='/post/:postId'>\n        <Single/>\n      </Route>\n    </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/context/Context.js",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/context/Reducer.js",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/settings/Settings.jsx",["80"],"import Sidebar from '../../components/sidebar/Sidebar'\nimport { Context } from '../../context/Context'\nimport {useContext, useState, useEffect} from 'react'\nimport './settings.css'\nimport axios from 'axios'\n\n\nexport default function Setting() {\n\n    const [file, setFile] = useState(null)\n    const [username, setUsername] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [success, setSuccess] = useState(false)\n    const {user, dispatch} = useContext(Context)\n    // const PF = 'https://vast-plains-73739.herokuapp.com/images/'\n\n    function image2Base64(img) {  \n        var reader = new FileReader();\n        reader.readAsDataURL(img);\n\n        var res='';\n        reader.onload = function () {\n            res = reader.result;//base64encoded string\n            setFile(res);\n            console.log(res);\n        };\n\n   }  \n\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        dispatch({type:'UPDATE_START'})\n        const updatedUser = {\n            userId: user._id,\n            username,\n            email,\n            password\n        }\n        if(file){\n            // const data =new FormData();\n            // const filename = Date.now() + file.name;\n            // data.append('name', filename);\n            // data.append('file', file);\n            // updatedUser.profilePic = filename;\n            // try{\n            //     await axios.post('/upload', data);\n            // }catch(err){\n\n            // }\n            updatedUser.profilePic = file;\n        }\n\n        try {\n            const res = await axios.put(\"/users/\" + user._id, updatedUser);\n            setSuccess(true)\n            dispatch({type:'UPDATE_SUCCESS', payload: res.data})\n        } catch (error) {\n            dispatch({type:'UPDATE_FAILURE'})\n        }\n    }\n\n    return (\n        <div className='settings'>\n            <div className=\"settingsWrapper\">\n                <div className=\"settingsTitle\">\n                    <div className=\"settingsUpdateTitle\">Update Your Account</div>\n                    <div className=\"settingsDeleteTitle\">Delete Account</div>\n                </div>\n                <form className=\"settingsForm\" onSubmit={handleSubmit}>\n                    <label>Profile Picture</label>\n                    <div className=\"settingsPP\">\n                        <img src={file?file:user?.profilePic} alt=\"\" />\n                        <label htmlFor=\"fileInput\">\n                            <i className=\"settingsPPIcon far fa-user-circle\"></i>\n                        </label>\n                        <input type=\"file\" id=\"fileInput\" style={{display: \"none\"}}\n                        onChange={e=>image2Base64(e.target.files[0])}\n                        />\n                    </div>\n                    <label>Username</label>\n                    <input type=\"text\" placeholder={user?.username} \n                     onChange={e=>setUsername(e.target.value)}/>\n                    <label>Email</label>\n                    <input type=\"email\" placeholder={user?.email} \n                     onChange={e=>setEmail(e.target.value)}/>\n                    <label>Password</label>\n                    <input type=\"password\" \n                     onChange={e=>setPassword(e.target.value)}\n                    />\n                    <button className='settingsSubmit' type=\"submit\">Update</button>\n                    {success&&<span style={{color:'green',marginTop:'20px',textAlign:'center'}}>settings has been updated...</span>}\n                </form>\n            </div>\n            <Sidebar/>\n        </div>\n    )\n}\n","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/single/Single.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/register/Register.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/write/Write.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/login/Login.jsx",["81"],"import './login.css'\nimport { Link } from 'react-router-dom'\nimport { Context } from '../../context/Context';\nimport axios from 'axios';\nimport { useRef } from 'react';\nimport { useContext } from 'react';\n\nexport default function Login() {\n\n    const userRef = useRef();\n    const passwordRef = useRef();\n    const { user, dispatch, isFetching } = useContext(Context)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        dispatch({ type: \"LOGIN_START\" })\n\n        try {\n            const res = await axios.post(\"/auth/login\", {\n                username: userRef.current.value,\n                password: passwordRef.current.value,\n            })\n\n            dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data })\n\n        } catch (err) {\n            dispatch({ type: \"LOGIN_FAILURE\" })\n        }\n    }\n\n\n    return (\n        <div className='login'>\n            <span className=\"loginTitle\">Login</span>\n            <form className=\"loginForm\" onSubmit={handleSubmit}>\n                <label>Username</label>\n                <input type=\"text\"\n                    className='loginInput'\n                    placeholder=\"Enter your username...\"\n                    ref={userRef}\n                />\n                <label>Password</label>\n                <input type=\"password\"\n                    className='loginInput'\n                    placeholder=\"Enter your password...\"\n                    ref={passwordRef}\n                />\n                <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>Login</button>\n            </form>\n            <button className=\"loginRegisterButton\">\n                <Link className='link' to=\"/register\">Register</Link>\n            </button>\n        </div>\n    )\n}\n","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/pages/home/Home.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/topbar/TopBar.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/sidebar/Sidebar.jsx",["82","83"],"import './sidebar.css';\nimport { useState,useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nexport default function Sidebar() {\n    const [cats,setCats] = useState([]);\n    useEffect(()=>{\n        const getCats = async ()=>{\n            const res = await axios.get('/categories');\n            setCats(res.data);\n            console.log(cats)\n        }\n        getCats()\n    },[])\n    return (\n        <div className='sidebar'>\n            <div className=\"sidebarItem\">\n                <span className=\"sidebarTitle\">ABOUT ME</span>\n                <img src=\"https://themegoods-cdn-pzbycso8wng.stackpathdns.com/grandblog/demo/wp-content/uploads/2015/11/aboutme.jpg\" alt=\"\" />\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Corporis voluptatum tenetur fugit neque consequuntur laudantium in totam nemo omnis placeat.</p>\n            </div>\n            <div className=\"sidebarItem\">\n                <span className=\"sidebarTitle\">CATEGORIES</span>\n                <ul className=\"sidebarList\">\n                    {cats.map(c=>(\n                        <Link to={`\\?cat=${c.name}`} className='link'>\n                            <li key={c._id} className=\"sidebarListItem\">{c.name}</li>\n                        </Link>\n                    ))}\n                </ul>\n            </div>\n            <div className=\"sidebarItem\">\n                <span className=\"sidebarTitle\">FLLOW ME</span>\n                <div className=\"sidebarSocial\">\n                    <i className=\"sidebarIcon fab fa-facebook-square\"></i>\n                    <i className=\"sidebarIcon fab fa-twitter-square\"></i>\n                    <i className=\"sidebarIcon fab fa-pinterest-square\"></i>\n                    <i className=\"sidebarIcon fab fa-instagram-square\"></i>\n                </div>\n            </div>\n        </div>\n    )\n}\n","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/singlePost/SinglePost.jsx",["84"],"import { useLocation } from 'react-router-dom'\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './singlePost.css';\nimport { Link } from 'react-router-dom';\nimport { Context } from '../../context/Context';\nimport { useContext } from 'react';\n\nexport default function SinglePost() {\n    const location = useLocation();\n    const path = location.pathname.split('/')[2];\n    const [post, setPost] = useState({});\n    // const PF = \"data:image/png;base64,\"\n\n    const { user } = useContext(Context)\n\n    const [title, setTitle] = useState('');\n    const [desc, setDesc] = useState('');\n    const [updateMode, setUpdateMode] = useState(false);\n\n\n    useEffect(() => {\n        const getPost = async () => {\n            const res = await axios.get('/posts/' + path);\n            setPost(res.data);\n            setTitle(res.data.title);\n            setDesc(res.data.desc);\n        };\n\n        getPost();\n    }, [path])\n\n    const handleDelete = async () => {\n        try {\n            const res = await axios.delete('/posts/' + path, { data: { username: user?.username } });\n            window.location.replace('/');\n        } catch (err) {\n\n        }\n    }\n\n    const handleUpdate = async () => {\n        try {\n            await axios.put('/posts/'+path,{\n                username:user.username,\n                title,\n                desc\n            });\n\n            // window.location.reload();\n            setUpdateMode(false);\n        } catch (err) {\n            \n        }\n    }\n\n    return (\n        <div className='singlePost'>\n            <div className=\"singlePostWrapper\">\n                {post.photo && (\n                    <img src={post.photo} alt=\"\" className=\"singlePostImg\" />\n                )}\n\n                {updateMode ? (<input type=\"text\" value={title} className='singlePostInput' autoFocus onChange={e => setTitle(e.target.value)} />) : (<h1 className=\"singlePostTitle\">\n                    {title}\n                    {post.username === user?.username && (\n                        <div className=\"singlePostEdit\">\n                            <i className=\"singlePostIcon far fa-edit\" onClick={e => setUpdateMode(true)}></i>\n                            <i className=\"singlePostIcon far fa-trash-alt\" onClick={handleDelete}></i>\n                        </div>\n                    )}\n\n                </h1>)}\n\n\n                <div className=\"singlePostInfo\">\n                    <span className='singlePostAuthor'>Author: <Link to={`/?user=${post.username}`} className='link'><b>{post.username}</b></Link> </span>\n                    <span className='singlePostDate'>{new Date(post.createdAt).toDateString()}</span>\n                </div>\n\n                {updateMode ? <textarea className='singlePostDescInput' value={desc} onChange={e=>setDesc(e.target.value)}></textarea> : <p className='singlePostDesc'>\n                    {desc}\n                </p>}\n\n                {updateMode && <button className='singlePostButton' onClick={handleUpdate}>update</button>}\n\n            </div>\n        </div>\n    )\n}\n","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/header/Header.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/posts/Posts.jsx",[],"/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/components/post/Post.jsx",["85"],"import './post.css'\nimport { Link } from 'react-router-dom'\n\nexport default function Post({post}) {\n    const PF = \"data:image/png;base64,\"\n    return (\n        <div className='post'>\n            {post.photo&&(\n            <img src={post.photo} alt=\"\" className=\"postImg\" />\n            )}\n            <div className=\"postInfo\">\n                <div className=\"postCats\">\n                    {post.categories.map(c=>(\n                        <span className=\"postCat\">{c.name}</span>\n                    ))}\n                </div>\n\n                <Link to={`/post/${post._id}`} className='link'>\n                <span className=\"postTitle\">\n                    {post.title}\n                </span>\n                </Link>\n\n                <hr />\n                <span className=\"postDate\">{new Date(post.createdAt).toDateString()}</span>\n            </div>\n\n            <p className=\"postDesc\">\n                {post.desc}\n            </p>\n        </div>\n    )\n}\n","/Users/wuyubao/Desktop/vscode-web/heroku-node-app/client/src/history/history.js",[],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":12,"column":3,"nodeType":"92","messageId":"93","endLine":12,"endColumn":7},{"ruleId":"90","severity":1,"message":"94","line":3,"column":31,"nodeType":"92","messageId":"93","endLine":3,"endColumn":40},{"ruleId":"90","severity":1,"message":"95","line":12,"column":13,"nodeType":"92","messageId":"93","endLine":12,"endColumn":17},{"ruleId":"96","severity":1,"message":"97","line":15,"column":7,"nodeType":"98","endLine":15,"endColumn":9,"suggestions":"99"},{"ruleId":"100","severity":1,"message":"101","line":27,"column":36,"nodeType":"102","messageId":"103","endLine":27,"endColumn":37,"suggestions":"104"},{"ruleId":"90","severity":1,"message":"105","line":35,"column":19,"nodeType":"92","messageId":"93","endLine":35,"endColumn":22},{"ruleId":"90","severity":1,"message":"106","line":5,"column":11,"nodeType":"92","messageId":"93","endLine":5,"endColumn":13},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'user' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'cats'. Either include it or remove the dependency array.","ArrayExpression",["109"],"no-useless-escape","Unnecessary escape character: \\?.","TemplateElement","unnecessaryEscape",["110","111"],"'res' is assigned a value but never used.","'PF' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},{"messageId":"114","fix":"115","desc":"116"},{"messageId":"117","fix":"118","desc":"119"},"Update the dependencies array to be: [cats]",{"range":"120","text":"121"},"removeEscape",{"range":"122","text":"123"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"124","text":"125"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[421,423],"[cats]",[1134,1135],"",[1134,1134],"\\"]